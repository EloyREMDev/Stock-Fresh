import{S as f}from"./supply.module.BHq-_SKP.js";import"./notificiation.DyHDLNjw.js";import"./endpoints.QH1VciTq.js";import"./index.B9b1t7QR.js";import"./index.CViUNx8d.js";const s=document.querySelector("#supply-name"),i=document.querySelector("#quantity"),a=document.querySelector("#min-stock"),r=document.querySelector("#supplier"),y=document.querySelector("#supply-form"),L=document.querySelector("#submit-btn"),p=document.querySelector("#status-message");let l=!1,o=!1,d=!1,c=!1;const t=(e,m)=>{const v=e.parentElement.nextElementSibling,n=e.nextElementSibling;e.value===""?(e.classList.remove("input-invalid","input-valid"),v?.classList.add("hidden"),n.innerHTML="",n.classList.add("hidden")):m?(e.classList.add("input-valid"),e.classList.remove("input-invalid"),v?.classList.add("hidden"),n.innerHTML='<span class="iconify" data-icon="mdi:check-circle" style="color: green;"></span>',n.classList.remove("hidden")):(e.classList.add("input-invalid"),e.classList.remove("input-valid"),v?.classList.remove("hidden"),n.innerHTML='<span class="iconify" data-icon="mdi:close-circle" style="color: red;"></span>',n.classList.remove("hidden"))},u=()=>{l&&o&&d&&c?L.disabled=!1:L.disabled=!0};s.addEventListener("input",()=>{l=s.value.trim().length>0,t(s,l),u()});i.addEventListener("input",()=>{const e=parseInt(i.value);o=!isNaN(e)&&e>=0,t(i,o),u()});a.addEventListener("input",()=>{const e=parseInt(a.value);d=!isNaN(e)&&e>=0,t(a,d),u()});r.addEventListener("input",()=>{c=r.value.trim().length>0,t(r,c),u()});y.addEventListener("submit",async e=>{if(e.preventDefault(),!l||!o||!d||!c){t(s,l),t(i,o),t(a,d),t(r,c);return}try{await f.addSupply({name:s.value.trim(),supplier:r.value.trim(),quantity:parseInt(i.value),minimum_stock:parseInt(a.value)}),p.textContent="Insumo guardado con Ã©xito.",p.className="mt-4 text-center text-sm font-medium text-green-600"}catch(m){p.textContent=`Error al guardar insumo: ${m.message}`,p.className="mt-4 text-center text-sm font-medium text-red-600",console.error("Error al guardar el insumo:",m)}y.reset(),u()});
